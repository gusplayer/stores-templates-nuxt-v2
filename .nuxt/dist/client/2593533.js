(window.webpackJsonp=window.webpackJsonp||[]).push([[143],{1358:function(e,t,r){"use strict";r.r(t);r(4),r(5),r(6),r(7),r(51);var o=r(19),c=r.n(o),n=r(83),l=r(191),d={name:"Ko14-Newsletter",props:{newsletter:Object,settingGeneral:Object,dataStore:Object},components:{ValidationObserver:n.a,ValidationProvider:n.b},mixins:[l.a],data:function(){return{errorsCheckbox:"El campo checkbox y email son obligatorios",email:null,register:"",checked:!1,stateChehed:!1}},destroyed:function(){this.email=""},computed:{facebookPixel:function(){return this.$store.state.analytics_tagmanager}},methods:{submitNewsletter:function(){var e=this;1==this.checked?this.$refs.validate.validate().then((function(t){if(t.valid){var r={email:e.email,tienda:e.dataStore.tienda.id_tienda};c.a.post("".concat(e.$store.state.urlKomercia,"/api/tienda/suscriptor"),r).then((function(t){e.facebookPixel&&null!=e.facebookPixel.pixel_facebook&&window.fbq("track","Lead",{value:e.email}),e.register="Tu correo ha sido registrado",e.$message.success("Comentario enviado!"),e.email=""})).catch((function(t){return e.register="Tu correo ya esta registrado",e.$message.error("Tu correo ya esta registrado")}))}})).catch((function(e){console.log(e)})):this.stateChehed=!0}},watch:{}},m=r(8),component=Object(m.a)(d,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"w-full flex justify-center items-center py-15 lg:py-20 px-10 md:px-0",style:"background-color: ".concat(e.newsletter["--background_color_1"])},[t("div",{staticClass:"w-full max-w-7xl flex items-center justify-center border",style:"border-color: ".concat(e.newsletter.color_border_component,";")},[t("div",{staticClass:"w-full grid grid-cols-2 gap-5 justify-between items-center"},[t("div",{staticClass:"w-full flex flex-col justify-center items-start py-40 pl-80"},[t("p",{staticClass:"font-bold text-30 mb-10",style:"color: ".concat(e.newsletter.color_title,";")},[e._v("\n          "+e._s(e.newsletter.title)+"\n        ")]),e._v(" "),t("p",{staticClass:"text-15",style:"color: ".concat(e.newsletter.color_text,";")},[e._v("\n          "+e._s(e.newsletter.subTitle)+"\n        ")]),e._v(" "),t("div",{staticClass:"border h-2 my-8 md:my-10 w-50",style:"border-color: ".concat(e.newsletter.color_border,";")}),e._v(" "),t("div",{staticClass:"w-full flex flex-col justify-center"},[t("div",{staticClass:"conten-input-check"},[t("div",{staticClass:"content-input",style:"background-color: ".concat(e.newsletter.color_input,";")},[t("ValidationProvider",{ref:"validate",staticClass:"content-input-error",attrs:{name:"email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(r){var o=r.errors;return[t("div",{staticClass:"input-icon"},[t("div",[t("svg",{staticClass:"icon-msg",attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"100%",height:"100%",viewBox:"0 0 24 24",color:e.newsletter.color_icon}},[t("path",{attrs:{d:"M22 6C22 4.9 21.1 4 20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6M20 6L12 11L4 6H20M20 18H4V8L12 13L20 8V18Z"}})])]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input-text",attrs:{id:"CorreoElectronicoNewslletter",name:"email",type:"email",placeholder:e.$t("newsletter_email")},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:o[0]||e.register,expression:"errors[0] || register"}],staticClass:"text-error",style:e.register?"color:green":""},[e._v("\n                    "+e._s(e.errorsCheckbox||e.register)+"\n                  ")])]}}])})],1),e._v(" "),t("div",{staticClass:"content-checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(t){var r=e.checked,o=t.target,c=!!o.checked;if(Array.isArray(r)){var n=e._i(r,null);o.checked?n<0&&(e.checked=r.concat([null])):n>-1&&(e.checked=r.slice(0,n).concat(r.slice(n+1)))}else e.checked=c}}}),e._v(" "),t("p",{staticClass:"text-checkbox"},[e._v("\n                "+e._s(e.$t("newsletter_msg"))+"\n              ")])]),e._v(" "),e.stateChehed?t("p",{staticClass:"text-error"},[e._v("\n              Marcar checkbox para poder suscribirse al bolet√≠n informativo\n            ")]):e._e()]),e._v(" "),t("button",{style:"color: ".concat(e.newsletter.color_text_input,"; background-color: ").concat(e.newsletter.color_input,";"),on:{click:e.submitNewsletter}},[e._v("\n            "+e._s(e.$t("newsletter_btn"))+"\n          ")])])]),e._v(" "),t("picture",[t("source",{attrs:{media:"(max-width: 799px)",srcset:e.idCloudinaryBanner(e.newsletter.img_res,"bannerRes",800)}}),e._v(" "),t("source",{attrs:{media:"(min-width: 800px)",srcset:e.idCloudinaryBanner(e.newsletter.img,"banner")}}),e._v(" "),t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.newsletter.img,expression:"newsletter.img"}],staticClass:"w-full",attrs:{alt:"newsletter template14"}})])])])])}),[],!1,null,null,null);t.default=component.exports}}]);