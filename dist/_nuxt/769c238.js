(window.webpackJsonp=window.webpackJsonp||[]).push([[42,15,303],{1459:function(t,o,e){"use strict";e(827)},1460:function(t,o,e){var r=e(53)((function(i){return i[1]}));r.push([t.i,'.card_info[data-v-022531f2]{align-items:center;display:flex;font-size:10px;font-weight:700;justify-content:center}.card_soldOut[data-v-022531f2]{background:#e71f77;color:#fff}.card_freeShipping[data-v-022531f2],.card_soldOut[data-v-022531f2]{border-radius:4px;padding:1px 2px}.card_freeShipping[data-v-022531f2]{background:#35dd8d;color:#000}.overlay-top[data-v-022531f2]{background:#fff;border-radius:.375rem;color:#25d366;font-size:13px;height:29px;left:100%;overflow:hidden;padding:5px;position:absolute;right:0;top:47px;width:0;--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);box-shadow:0 0 transparent,0 0 transparent,0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow);transition-duration:.3s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,1,1)}#product-card:hover .overlay-top[data-v-022531f2]{left:63%;width:67px}.overlay-free[data-v-022531f2]{background-color:#25d366;border-radius:.25rem;color:#fff;height:35px;left:100%;overflow:hidden;position:absolute;right:0;text-align:center;top:5px;transition:.5s ease;width:0}.txt-free[data-v-022531f2]{font-size:13px;line-height:12px;margin-top:5px}#product-card:hover .overlay-free[data-v-022531f2]{left:35%;transition-delay:.7s;width:125px}.overlay-polygon[data-v-022531f2]{background-color:transparent;height:5%;left:100%;overflow:hidden;position:absolute;right:0;top:39px;width:0;fill:#25d366}#product-card:hover .overlay-polygon[data-v-022531f2]{left:88%;transition-delay:.95s;width:5%}.card-descuento[data-v-022531f2]{display:none}.content-productCard[data-v-022531f2]{align-items:center;display:flex;flex-direction:column;height:100%;justify-content:flex-start;width:100%}@media (min-width:300px){.content-itemsCard[data-v-022531f2]{align-items:flex-start;display:flex;flex-direction:row;gap:1rem;justify-content:center;width:100%}.content-right-data[data-v-022531f2]{align-items:center;box-sizing:border-box;justify-content:space-between;padding:5px 0}.content-description-product[data-v-022531f2],.content-right-data[data-v-022531f2]{display:flex;flex-direction:column;height:100%;width:100%}.content-description-product[data-v-022531f2]{align-items:flex-start;gap:.25rem;justify-content:flex-start;margin-bottom:10px}.txt-name-product[data-v-022531f2]{color:#3d3d3d;display:-webkit-box;font-size:14px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;font-family:"Poppins",sans-serif!important;font-weight:500;text-align:left;width:100%}.content-price-product[data-v-022531f2]{align-items:flex-start;display:flex;flex-direction:column;justify-content:center;width:auto}.item-price-product[data-v-022531f2]{align-items:center;display:flex;flex-direction:row;gap:.25rem;justify-content:flex-start;width:100%}.txt-product-price[data-v-022531f2]{align-items:flex-start;color:#3d3d3d;display:flex;flex-direction:column;font-family:"Poppins",sans-serif!important;font-size:14px;font-weight:700;justify-content:center;width:auto}.content-buttons[data-v-022531f2]{align-items:flex-end;display:flex;flex-direction:row;justify-content:flex-end;width:100%}.button-left[data-v-022531f2]{align-items:center;background-color:#ececec;border-radius:5px;cursor:pointer;display:flex;flex-direction:column;justify-content:center;margin-right:5px;max-height:34px;padding:8px;width:auto}.svg-img[data-v-022531f2]{color:#000;height:auto;width:21px}.button-right[data-v-022531f2]{border-radius:7px;cursor:pointer;max-height:34px;max-width:124px;padding:8px 12px}.button-right[data-v-022531f2],.txt-btn-right[data-v-022531f2]{align-items:center;display:flex;flex-direction:column;justify-content:center;width:100%}.txt-btn-right[data-v-022531f2]{font-family:"Poppins",sans-serif!important;font-size:14px;font-weight:600}}@media (min-width:768px){.txt-name-product[data-v-022531f2]{font-size:15px}.txt-product-price[data-v-022531f2]{font-size:16px}}@media (max-width:768px){.card-descuento[data-v-022531f2]{background:#35dd8d;border-radius:3px;color:#fff;display:inline;display:initial;font-size:12px;margin-top:3px;padding:0 5px}}',""]),r.locals={},t.exports=r},1780:function(t,o,e){"use strict";e.r(o);var r=e(6),n=(e(55),e(43),e(190),e(56),e(75),e(445)),c=e(446),d=e(192),l={name:"ProductCardWa3",mixins:[n.a,c.a,d.a],props:{product:{type:Object,required:!0},dataStore:{type:Object,required:!0}},data:function(){return{estadoCart:!1,minPrice:"",maxPrice:"",idSlug:"",maxQuantityValue:0,productIndexCart:null,productCart:{},salesData:null,spent:!1,active:!0,equalsPrice:!1}},computed:{settingByTemplate:function(){return this.$store.state.settingByTemplate||this.$store.state.settingBaseWapir},productsCarts:function(){return this.$store.state.productsCart},getFreeShipping:function(){return!(1===this.product.envio_gratis||"gratis"===this.rangosByCiudad.envio_metodo)},rangosByCiudad:function(){return this.$store.state.envios.valores},soldOut:function(){if(this.product.con_variante){var t=this.product.variantes;if(t&&t.combinaciones.length)return 0===JSON.parse(t.combinaciones[0].combinaciones).map((function(t){return parseInt(t.unidades)||0})).reduce((function(t,o){return t+o}),0)}return!this.product.stock}},watch:{productsCarts:function(){this.getDataProduct()}},mounted:function(){this.idSlug=this.product.id,this.productPrice(),this.product.con_variante&&"[object Object]"!==this.product.variantes.variantes&&(this.estadoCart=!0)},methods:{getDataProduct:function(){var t=this;this.salesData={precio:this.product.precio,unidades:this.product.stock,sku:this.product.sku,estado:!0},this.maxQuantityValue=this.product.stock,this.productsCarts.find((function(o,e){o.id==t.product.id&&(t.productIndexCart=e,t.productCart=o,t.maxQuantityValue=t.product.stock-o.cantidad)})),(0==this.salesData.unidades||this.maxQuantityValue<=0||0==this.maxQuantityValue)&&(this.spent=!0)},addShoppingCart:function(){if(this.product&&(this.productIndexCart=null,this.getDataProduct(),this.sendAnalyticsStore(this.product.id),this.product.id==this.idSlug)){var t={id:this.product.id,precio:this.product.precio,cantidad:1,foto_cloudinary:this.product.foto_cloudinary,nombre:this.product.nombre,combinacion:void 0,envio_gratis:this.product.envio_gratis,con_variante:this.product.con_variante};if(this.salesData,t.limitQuantity=this.product.stock,"number"==typeof this.productIndexCart){var o=this.$store.state.productsCart[this.productIndexCart];o.cantidad+=1,this.$store.state.productsCart.splice(this.productIndexCart,1,o)}else this.$store.state.productsCart.push(t);this.$store.commit("UPDATE_CONTENT_CART"),this.$message({showClose:!0,message:"Se agregÃ³ el producto correctamente",type:"success"}),this.$store.dispatch("SEND_ADD_TO_CART",1)}},productPrice:function(){if(this.product.con_variante){var t=this.product.variantes;if(t&&t.combinaciones.length>0){var o=JSON.parse(t.combinaciones[0].combinaciones).filter((function(t){return t.precio&&t.estado})).map((function(t){return t.precio}));if(o.length>0){this.productVariants=!0;var e=o.sort((function(a,b){return a-b}));return this.minPrice=e[0],this.maxPrice=e[e.length-1],void(this.equalsPrice=this.minPrice===this.maxPrice)}}}this.productVariants=!1,this.minPrice=this.product.precio||0,this.maxPrice=this.product.precio||0,this.equalsPrice=!0},redirectWP:function(){var t,o="https://api.whatsapp.com/send?phone=",e="https://web.whatsapp.com/send?phone=57";t=this.dataStore.tiendasInfo.dominio?"".concat(this.dataStore.tiendasInfo.dominio,"wa/").concat(this.product.slug):"http://".concat(this.dataStore.subdominio,".komercia.store/wa/").concat(this.product.slug);var text="text=Hola ðŸ˜€, %0AEstoy en tu tienda y me interesa el producto: ".concat(this.product.nombre,"%0A%0ALink de compra: ").concat(t,"%0A");if(this.dataStore.redes.whatsapp.length>10){var r=this.dataStore.redes.whatsapp;"+"===r.charAt(0)&&(r=r.slice(1)),this.mobileCheck()?window.open("".concat(o).concat(r,"&").concat(text),"_blank"):window.open("".concat(e).concat(r,"&").concat(text),"_blank")}else this.mobileCheck()?window.open("".concat(o).concat(this.dataStore.redes.whatsapp,"&").concat(text),"_blank"):window.open("".concat(e).concat(this.dataStore.redes.whatsapp,"&").concat(text),"_blank")},sendAnalyticsStore:function(t){var o=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.$store.dispatch("SEND_ANALYTICS_STORE",{storeId:o.dataStore.id,event:"ADDED_PRODUCT_TO_CART",productId:t});case 2:case"end":return e.stop()}}),e)})))()}}},f=(e(1459),e(3)),component=Object(f.a)(l,(function(){var t,o=this,e=o._self._c;return e("div",{staticClass:"content-productCard"},[e("div",{staticClass:"content-itemsCard"},[e("nuxt-link",{staticClass:"relative flex h-full w-full flex-col items-center justify-center overflow-hidden rounded-9 border bg-[#f9f9f9]",attrs:{id:"product-card",to:{path:"/wa/".concat(o.dataStore.id,"/productos/")+o.product.slug}}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"sin_foto.jpeg"==(null===(t=o.product)||void 0===t?void 0:t.foto_cloudinary)?"https://res.cloudinary.com/komerciaacademico/image/upload/v1637945917/komerica/sws8xa8z0oyu252nqxzv_cgwcdb.png":o.idCloudinary(o.product.foto_cloudinary,550,550),expression:"\n          product?.foto_cloudinary == 'sin_foto.jpeg'\n            ? 'https://res.cloudinary.com/komerciaacademico/image/upload/v1637945917/komerica/sws8xa8z0oyu252nqxzv_cgwcdb.png'\n            : idCloudinary(product.foto_cloudinary, 550, 550)\n        "}],class:["h-full w-full overflow-hidden object-cover object-center",o.soldOut?"grayscale":"","sin_foto.jpeg"===o.product.foto_cloudinary?" h-full w-full":""],attrs:{width:"265",height:"265",loading:"lazy",alt:"Product Img"}}),o._v(" "),1==o.product.tag_promocion&&o.product.promocion_valor?e("div",[e("div",{staticClass:"overlay-top"},[e("div",[e("p",[o._v(o._s(o.product.promocion_valor)+"% OFF")])])]),o._v(" "),e("div",{staticClass:"overlay-free"},[e("p",{staticClass:"txt-free"},[o._v(o._s(o.$t("home_pdescuento")))])]),o._v(" "),e("div",{staticClass:"overlay-polygon"},[e("svg",{staticClass:"icon-overlay-free",attrs:{width:"12px",height:"12px",viewBox:"0 0 255 255"}},[e("polygon",{attrs:{points:"0,0 127.5,127.5 255,0"}})])])]):o._e()]),o._v(" "),e("div",{staticClass:"content-right-data"},[e("nuxt-link",{staticClass:"content-description-product",attrs:{to:{path:"/wa/".concat(o.dataStore.id,"/productos/")+o.product.slug}}},[e("p",{staticClass:"txt-name-product"},[o._v("\n          "+o._s(o.product.nombre)+"\n        ")]),o._v(" "),e("div",{staticClass:"content-price-product"},[1==o.product.tag_promocion&&o.product.promocion_valor?e("div",{staticClass:"card-descuento"},[e("p",[o._v(o._s(o.product.promocion_valor)+"% OFF")])]):o._e(),o._v(" "),o.estadoCart&&o.equalsPrice?e("div",{staticClass:"item-price-product"},[o.minPrice>0?e("p",{staticClass:"txt-product-price"},[o._v("\n              "+o._s(o._f("currency")(o.minPrice,o.dataStore.tiendasInfo.paises.codigo,o.dataStore.tiendasInfo.moneda))+"\n            ")]):o._e()]):o.estadoCart&&!o.equalsPrice?e("div",{staticClass:"item-price-product"},[o.minPrice>0?e("p",{staticClass:"txt-product-price"},[o._v("\n              "+o._s(o._f("currency")(o.minPrice,o.dataStore.tiendasInfo.paises.codigo,o.dataStore.tiendasInfo.moneda))+"\n            ")]):o._e(),o._v(" "),o.maxPrice>0?e("p",{staticClass:"separator-price"},[o._v("-")]):o._e(),o._v(" "),o.maxPrice>0?e("p",{staticClass:"txt-product-price"},[o._v("\n              "+o._s(o._f("currency")(o.maxPrice,o.dataStore.tiendasInfo.paises.codigo,o.dataStore.tiendasInfo.moneda))+"\n            ")]):o._e()]):e("div",{staticClass:"item-price-product"},[o.product.precio>0?e("p",{staticClass:"txt-product-price"},[o._v("\n              "+o._s(o._f("currency")(o.product.precio,o.dataStore.tiendasInfo.paises.codigo,o.dataStore.tiendasInfo.moneda))+"\n            ")]):o._e()])]),o._v(" "),o.getFreeShipping?o._e():e("p",{staticClass:"card_info card_freeShipping"},[o._v("\n          "+o._s(o.$t("home_cardGratis"))+"\n        ")]),o._v(" "),o.soldOut?e("p",{staticClass:"card_info card_soldOut"},[o._v("\n          "+o._s(o.$t("home_cardAgotado"))+"\n        ")]):o._e()]),o._v(" "),o.estadoCart||o.soldOut||o.spent?e("div",{staticClass:"content-buttons"},[e("nuxt-link",{staticClass:"button-right",style:"background: ".concat(o.settingByTemplate&&o.settingByTemplate.color_primario?o.settingByTemplate.color_primario:"#25D366",";"),attrs:{to:{path:"/wa/".concat(o.dataStore.id,"/productos/")+o.product.slug}}},[e("p",{staticClass:"txt-btn-right",style:"color:".concat(o.settingByTemplate&&o.settingByTemplate.color_secundario?o.settingByTemplate.color_secundario:"#FFFFFF",";")},[o._v("\n            "+o._s(13015==o.dataStore.id?o.$t("productdetail_btnComprar"):o.$t("home_cardvermas"))+"\n          ")])])],1):e("div",{staticClass:"content-buttons"},[o.product.precio>0?e("div",{staticClass:"button-left",on:{click:o.addShoppingCart}},[e("svg",{staticClass:"svg-img",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"}})])]):o._e(),o._v(" "),e("nuxt-link",{staticClass:"button-right",style:"background: ".concat(o.settingByTemplate&&o.settingByTemplate.color_primario?o.settingByTemplate.color_primario:"#25D366",";"),attrs:{to:{path:"/wa/".concat(o.dataStore.id,"/productos/")+o.product.slug}}},[e("p",{staticClass:"txt-btn-right",style:"color:".concat(o.settingByTemplate&&o.settingByTemplate.color_secundario?o.settingByTemplate.color_secundario:"#FFFFFF",";")},[o._v("\n            "+o._s(13015==o.dataStore.id?o.$t("productdetail_btnComprar"):o.$t("home_cardvermas"))+"\n          ")])])],1)],1)],1)])}),[],!1,null,"022531f2",null);o.default=component.exports},445:function(t,o,e){"use strict";e(85);o.a={methods:{idCloudinary:function(t,o,e){var r=t.split("/upload/"),n=t.split("/");return"res.cloudinary.com"==n[2]?"https://res.cloudinary.com/".concat(n[3],"/image/upload/dpr_auto,f_auto,fl_lossy,q_auto/c_crop,g_custom/h_").concat(e,",w_").concat(o,",b_auto,c_pad/").concat(r[1]):t},idCloudinaryQuality:function(t,o,e){var r=t.split("/upload/"),n=t.split("/");return"res.cloudinary.com"==n[2]?"https://res.cloudinary.com/".concat(n[3],"/image/upload/dpr_auto,f_auto,fl_lossy,q_90/c_crop,g_custom/h_").concat(e,",w_").concat(o,",b_auto,c_pad/").concat(r[1]):t},idCloudinarys:function(t,o,e){var r=t.split("/upload/"),n=t.split("/");return"res.cloudinary.com"==n[2]?"https://res.cloudinary.com/".concat(n[3],"/image/upload/dpr_auto,q_auto:best,c_crop,g_custom/c_scale,h_").concat(e,",w_").concat(o,"/").concat(r[1]):t},idCloudinaryBanner:function(t,o,e){if(!t||"string"!=typeof t)return console.error("La URL proporcionada es invÃ¡lida:",t),null;var r,n=t.split("/upload/"),c=t.split("/");return n&&n.length>1&&(r=n[1].split(".")),"res.cloudinary.com"!=c[2]?t:"banner"==o?"https://res.cloudinary.com/".concat(c[3],"/image/upload/dpr_auto,q_auto:best,c_crop,g_custom/").concat(r[0],".webp"):"bannerRes"==o?"https://res.cloudinary.com/".concat(c[3],"/image/upload/dpr_auto,q_auto:best,c_crop,g_custom/c_scale,w_").concat(e,"/").concat(r[0],".webp"):void 0}}}},446:function(t,o,e){"use strict";o.a={filters:{currency:function(t,o,e){var r;return o&&e?t&&"co"==o&&"COP"==e?"$".concat(new Intl.NumberFormat("de-DE").format(t)):t&&"pe"==o&&"PEN"==e?"S/ ".concat(new Intl.NumberFormat("es-PE").format(t)):"internacional"==o?(r=new Intl.NumberFormat("en-IN",{style:"currency",currency:e,minimumFractionDigits:0}).format(t),"".concat(r)):(r=new Intl.NumberFormat(o,{style:"currency",currency:e,minimumFractionDigits:0}).format(t),"".concat(r)):t?"$".concat(new Intl.NumberFormat("de-DE").format(t)):void 0}}}},827:function(t,o,e){var content=e(1460);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(54).default)("6470cde3",content,!0,{sourceMap:!1})}}]);