(window.webpackJsonp=window.webpackJsonp||[]).push([[21,15,303,349],{1464:function(t,o,e){"use strict";e(830)},1465:function(t,o,e){var r=e(54)((function(i){return i[1]}));r.push([t.i,'.card_info[data-v-178c8de3]{align-items:center;display:flex;font-size:10px;font-weight:700;justify-content:center;position:absolute}.card_soldOut[data-v-178c8de3]{background:#e71f77;bottom:30px;color:#fff}.card_freeShipping[data-v-178c8de3],.card_soldOut[data-v-178c8de3]{border-radius:4px;padding:1px 2px;right:10px}.card_freeShipping[data-v-178c8de3]{background:#35dd8d;bottom:10px;color:#000}.overlay-top[data-v-178c8de3]{background:#fff;border-radius:.375rem;color:#25d366;font-size:13px;height:29px;left:100%;overflow:hidden;padding:5px;position:absolute;right:0;top:50px;width:0;--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);box-shadow:0 0 transparent,0 0 transparent,0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow);transition-duration:.3s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,1,1)}#product-card:hover .overlay-top[data-v-178c8de3]{left:72%;width:67px}.overlay-free[data-v-178c8de3]{background-color:#25d366;border-radius:.25rem;color:#fff;height:35px;left:100%;overflow:hidden;position:absolute;right:0;text-align:center;top:5px;transition:.5s ease;width:0}.txt-free[data-v-178c8de3]{font-size:13px;line-height:12px;margin-top:5px}#product-card:hover .overlay-free[data-v-178c8de3]{left:50%;transition-delay:.7s;width:125px}.overlay-polygon[data-v-178c8de3]{background-color:transparent;height:5%;left:100%;overflow:hidden;position:absolute;right:0;top:40px;width:0;fill:#25d366}#product-card:hover .overlay-polygon[data-v-178c8de3]{left:90%;transition-delay:.95s;width:5%}.card-descuento[data-v-178c8de3]{display:none}.content-productCard[data-v-178c8de3]{align-items:center;display:flex;flex-direction:column;height:100%;justify-content:flex-start;width:100%}@media (min-width:300px){.content-items-productCard[data-v-178c8de3]{max-width:350px}.content-img-prodcut[data-v-178c8de3],.content-items-productCard[data-v-178c8de3]{align-items:center;display:flex;flex-direction:column;justify-content:center;width:100%}.content-img-prodcut[data-v-178c8de3]{background-color:#f9f9f9;border-radius:9px;border-width:1px;height:100%;max-height:175px;max-width:175px;overflow:hidden}.product-image[data-v-178c8de3]{height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;width:100%}.product-image-soldOut[data-v-178c8de3]{filter:grayscale(100%)}.content-description-product[data-v-178c8de3]{align-items:center;display:grid;grid-template-columns:repeat(1,minmax(0,1fr));justify-content:center;margin-bottom:10px;margin-top:10px;width:100%;grid-gap:.25rem;gap:.25rem}.txt-name-product[data-v-178c8de3]{color:#3d3d3d;display:-webkit-box;font-size:14px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;font-family:"Poppins",sans-serif!important;font-weight:500;text-align:left;width:100%}.content-price-product[data-v-178c8de3]{flex-direction:column;justify-content:center;width:auto}.content-price-product[data-v-178c8de3],.item-price-product[data-v-178c8de3]{align-items:center;display:flex}.item-price-product[data-v-178c8de3]{flex-direction:row;gap:.25rem;justify-content:flex-start;width:100%}.txt-product-price[data-v-178c8de3]{align-items:flex-start;color:#3d3d3d;display:flex;flex-direction:column;font-family:"Poppins",sans-serif!important;font-size:14px;font-weight:700;justify-content:center;width:auto}.content-buttons[data-v-178c8de3]{flex-direction:row;justify-content:space-between;width:100%}.button-left[data-v-178c8de3],.content-buttons[data-v-178c8de3]{align-items:center;display:flex}.button-left[data-v-178c8de3]{background-color:#ececec;border-radius:5px;cursor:pointer;flex-direction:column;justify-content:center;margin-right:5px;max-height:34px;padding:8px;width:auto}.svg-img[data-v-178c8de3]{color:#000;height:auto;width:21px}.button-right[data-v-178c8de3]{border-radius:7px;cursor:pointer;max-height:34px;padding:8px 12px}.button-right[data-v-178c8de3],.txt-btn-right[data-v-178c8de3]{align-items:center;display:flex;flex-direction:column;justify-content:center;width:100%}.txt-btn-right[data-v-178c8de3]{font-family:"Poppins",sans-serif!important;font-size:14px;font-weight:600}}@media (min-width:500px){.content-img-prodcut[data-v-178c8de3]{max-height:267px;max-width:267px}}@media (min-width:600px){.item-price-product[data-v-178c8de3]{align-items:center;display:flex;flex-direction:row;justify-content:flex-start}.txt-name-product[data-v-178c8de3]{font-size:16px}.txt-product-price[data-v-178c8de3]{font-size:16px;font-weight:700}.button-left[data-v-178c8de3]{margin-right:10px;padding:5px}.svg-img[data-v-178c8de3]{height:auto;width:32px}.button-right[data-v-178c8de3]{padding-bottom:8px;padding-top:8px}.txt-btn-right[data-v-178c8de3]{font-size:16px}}@media (max-width:768px){.card-descuento[data-v-178c8de3]{background:#35dd8d;border-radius:3px;bottom:10px;color:#fff;display:inline;display:initial;font-size:12px;left:5px;margin-top:3px;padding:0 5px;position:absolute}}',""]),r.locals={},t.exports=r},1783:function(t,o,e){"use strict";e.r(o);e(453);var r=e(6),n=(e(56),e(40),e(191),e(57),e(77),e(446)),c=e(447),d=e(193),l={name:"ProductCardWa2",mixins:[n.a,c.a,d.a],props:{product:{type:Object,required:!0},dataStore:{type:Object,required:!0}},data:function(){return{estadoCart:!1,minPrice:"",maxPrice:"",idSlug:"",maxQuantityValue:0,productIndexCart:null,productCart:{},salesData:null,spent:!1,active:!0,equalsPrice:!1}},computed:{settingByTemplate:function(){return this.$store.state.settingByTemplate||this.$store.state.settingBaseWapir},productsCarts:function(){return this.$store.state.productsCart},getFreeShipping:function(){return!(1===this.product.envio_gratis||"gratis"===this.rangosByCiudad.envio_metodo)},rangosByCiudad:function(){return this.$store.state.envios.valores},soldOut:function(){var t;if(null!==(t=this.product)&&void 0!==t&&t.con_variante){var o,e=this.product.variantes;if(null!=e&&null!==(o=e.combinaciones)&&void 0!==o&&o.length)return 0===JSON.parse(e.combinaciones[0].combinaciones).map((function(t){return parseInt(t.unidades)||0})).reduce((function(t,o){return t+o}),0)}return!this.product.stock}},watch:{productsCarts:function(){this.getDataProduct()}},mounted:function(){this.idSlug=this.product.id,this.productPrice(),this.product.con_variante&&"[object Object]"!==this.product.variantes.variantes&&(this.estadoCart=!0)},methods:{getDataProduct:function(){var t=this;this.salesData={precio:this.product.precio,unidades:this.product.stock,sku:this.product.sku,estado:!0},this.maxQuantityValue=this.product.stock,this.productsCarts.find((function(o,e){o.id==t.product.id&&(t.productIndexCart=e,t.productCart=o,t.maxQuantityValue=t.product.stock-o.cantidad)})),(0==this.salesData.unidades||this.maxQuantityValue<=0||0==this.maxQuantityValue)&&(this.spent=!0)},addShoppingCart:function(){if(this.product&&(this.productIndexCart=null,this.getDataProduct(),this.sendAnalyticsStore(this.product.id),this.product.id==this.idSlug)){var t={id:this.product.id,precio:this.product.precio,cantidad:1,foto_cloudinary:this.product.foto_cloudinary,nombre:this.product.nombre,combinacion:void 0,envio_gratis:this.product.envio_gratis,con_variante:this.product.con_variante};if(this.salesData,t.limitQuantity=this.product.stock,"number"==typeof this.productIndexCart){var o=this.$store.state.productsCart[this.productIndexCart];o.cantidad+=1,this.$store.state.productsCart.splice(this.productIndexCart,1,o)}else this.$store.state.productsCart.push(t);this.$store.commit("UPDATE_CONTENT_CART"),this.$message({showClose:!0,message:"Se agregÃ³ el producto correctamente",type:"success"}),this.$store.dispatch("SEND_ADD_TO_CART",1)}},productPrice:function(){var t;if(null!==(t=this.product)&&void 0!==t&&t.con_variante){var o,e=this.product.variantes;if((null==e||null===(o=e.combinaciones)||void 0===o?void 0:o.length)>0){var r=[];try{r=JSON.parse(e.combinaciones[0].combinaciones)}catch(t){console.error("Error al parsear combinaciones:",t)}if(Array.isArray(r)){var n=r.filter((function(t){return t.precio&&t.estado})).map((function(t){return t.precio}));if((null==n?void 0:n.length)>0){this.productVariants=!0;var c=n.sort((function(a,b){return a-b}));return this.minPrice=c[0],this.maxPrice=c[c.length-1],void(this.equalsPrice=this.minPrice===this.maxPrice)}}}}this.productVariants=!1,this.minPrice=this.product.precio||0,this.maxPrice=this.product.precio||0,this.equalsPrice=!0},redirectWP:function(){var t,o="https://api.whatsapp.com/send?phone=",e="https://web.whatsapp.com/send?phone=57";t=this.dataStore.tiendasInfo.dominio?"".concat(this.dataStore.tiendasInfo.dominio,"wa/").concat(this.product.slug):"http://".concat(this.dataStore.subdominio,".komercia.store/wa/").concat(this.product.slug);var text="text=Hola ðŸ˜€, %0AEstoy en tu tienda y me interesa el producto: ".concat(this.product.nombre,"%0A%0ALink de compra: ").concat(t,"%0A");if(this.dataStore.redes.whatsapp.length>10){var r=this.dataStore.redes.whatsapp;"+"===r.charAt(0)&&(r=r.slice(1)),this.mobileCheck()?window.open("".concat(o).concat(r,"&").concat(text),"_blank"):window.open("".concat(e).concat(r,"&").concat(text),"_blank")}else this.mobileCheck()?window.open("".concat(o).concat(this.dataStore.redes.whatsapp,"&").concat(text),"_blank"):window.open("".concat(e).concat(this.dataStore.redes.whatsapp,"&").concat(text),"_blank")},sendAnalyticsStore:function(t){var o=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.$store.dispatch("SEND_ANALYTICS_STORE",{storeId:o.dataStore.id,event:"ADDED_PRODUCT_TO_CART",productId:t});case 2:case"end":return e.stop()}}),e)})))()}}},h=(e(1464),e(3)),component=Object(h.a)(l,(function(){var t,o,e,r,n,c,d,l,h,m=this,v=m._self._c;return v("div",{staticClass:"content-productCard"},[v("div",{staticClass:"content-items-productCard"},[v("nuxt-link",{staticClass:"content-img-prodcut relative",attrs:{id:"product-card",to:{path:"/wa/".concat(m.dataStore.id,"/productos/")+m.product.slug}}},[v("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"sin_foto.jpeg"==(null===(t=m.product)||void 0===t?void 0:t.foto_cloudinary)?"https://img.komercia.store/komerciaacademico/image/upload/v1637945917/komerica/sws8xa8z0oyu252nqxzv_cgwcdb.png":m.idCloudinary(m.product.foto_cloudinary,550,550),expression:"\n          product?.foto_cloudinary == 'sin_foto.jpeg'\n            ? 'https://img.komercia.store/komerciaacademico/image/upload/v1637945917/komerica/sws8xa8z0oyu252nqxzv_cgwcdb.png'\n            : idCloudinary(product.foto_cloudinary, 550, 550)\n        "}],staticClass:"product-image",class:m.soldOut?"grayscale":"",attrs:{width:"265",height:"265",loading:"lazy",alt:"Product Img"}}),m._v(" "),1==m.product.tag_promocion&&m.product.promocion_valor?v("div",[v("div",{staticClass:"overlay-top"},[v("div",[v("p",[m._v(m._s(m.product.promocion_valor)+"% OFF")])])]),m._v(" "),v("div",{staticClass:"overlay-free"},[v("p",{staticClass:"txt-free"},[m._v(m._s(m.$t("home_pdescuento")))])]),m._v(" "),v("div",{staticClass:"overlay-polygon"},[v("svg",{staticClass:"icon-overlay-free",attrs:{width:"12px",height:"12px",viewBox:"0 0 255 255"}},[v("polygon",{attrs:{points:"0,0 127.5,127.5 255,0"}})])])]):m._e(),m._v(" "),m.soldOut?v("p",{staticClass:"card_info card_soldOut"},[m._v("\n        "+m._s(m.$t("home_cardAgotado"))+"\n      ")]):m._e(),m._v(" "),m.getFreeShipping?m._e():v("p",{staticClass:"card_info card_freeShipping"},[m._v("\n        "+m._s(m.$t("home_cardGratis"))+"\n      ")]),m._v(" "),1==m.product.tag_promocion&&m.product.promocion_valor?v("div",{staticClass:"card-descuento"},[v("p",[m._v(m._s(m.product.promocion_valor)+"% OFF")])]):m._e()]),m._v(" "),v("nuxt-link",{staticClass:"content-description-product",attrs:{to:{path:"/wa/".concat(m.dataStore.id,"/productos/")+m.product.slug}}},[v("p",{staticClass:"txt-name-product pb-auto min-h-[48px]"},[m._v("\n        "+m._s(m.product.nombre)+"\n      ")]),m._v(" "),v("div",{staticClass:"content-price-product"},[m.estadoCart&&m.equalsPrice?v("div",{staticClass:"item-price-product"},[m.minPrice>0?v("p",{staticClass:"txt-product-price"},[m._v("\n            "+m._s(m._f("currency")(m.minPrice,m.dataStore.tiendasInfo.paises.codigo,m.dataStore.tiendasInfo.moneda))+"\n          ")]):m._e()]):m.estadoCart&&!m.equalsPrice?v("div",{staticClass:"item-price-product"},[v("p",{staticClass:"txt-product-price"},[m._v("\n            "+m._s(m._f("currency")(m.minPrice,m.dataStore.tiendasInfo.paises.codigo,m.dataStore.tiendasInfo.moneda))+"\n          ")]),m._v(" "),18265===(null===(o=m.dataStore)||void 0===o?void 0:o.id)&&1==(null===(e=m.product)||void 0===e?void 0:e.tag_promocion)&&null!==(r=m.product)&&void 0!==r&&r.promocion_valor?v("p",{staticClass:"ml-5 text-sm text-red-500 line-through"},[m._v("\n            "+m._s(m._f("currency")(Math.trunc(m.minPrice/(1-m.product.promocion_valor/100)),m.dataStore.tiendasInfo.paises.codigo,m.dataStore.tiendasInfo.moneda))+"\n          ")]):m._e(),m._v(" "),m.maxPrice>0&&18265!==(null===(n=m.dataStore)||void 0===n?void 0:n.id)?v("p",{staticClass:"separator-price"},[m._v("\n            -\n          ")]):m._e(),m._v(" "),m.maxPrice>0&&18265!==(null===(c=m.dataStore)||void 0===c?void 0:c.id)?v("p",{staticClass:"txt-product-price"},[m._v("\n            "+m._s(m._f("currency")(m.maxPrice,m.dataStore.tiendasInfo.paises.codigo,m.dataStore.tiendasInfo.moneda))+"\n          ")]):m._e()]):v("div",{staticClass:"item-price-product min-h-[28px]"},[m.product.precio>0?v("p",{staticClass:"txt-product-price"},[m._v("\n            "+m._s(m._f("currency")(m.product.precio,m.dataStore.tiendasInfo.paises.codigo,m.dataStore.tiendasInfo.moneda))+"\n          ")]):m._e(),m._v(" "),18265===(null===(d=m.dataStore)||void 0===d?void 0:d.id)&&1==(null===(l=m.product)||void 0===l?void 0:l.tag_promocion)&&null!==(h=m.product)&&void 0!==h&&h.promocion_valor?v("p",{staticClass:"ml-5 text-sm text-red-500 line-through"},[m._v("\n            "+m._s(m._f("currency")(Math.trunc(m.minPrice/(1-m.product.promocion_valor/100)),m.dataStore.tiendasInfo.paises.codigo,m.dataStore.tiendasInfo.moneda))+"\n          ")]):m._e()])])]),m._v(" "),m.estadoCart||m.soldOut||m.spent?v("nuxt-link",{staticClass:"button-right",style:"background: ".concat(m.settingByTemplate&&m.settingByTemplate.color_primario?m.settingByTemplate.color_primario:"#25D366",";"),attrs:{to:{path:"/wa/".concat(m.dataStore.id,"/productos/")+m.product.slug}}},[v("p",{staticClass:"txt-btn-right",style:"color:".concat(m.settingByTemplate.color_secundario,";")},[m._v("\n        "+m._s(13015==m.dataStore.id?m.$t("productdetail_btnComprar"):m.$t("home_cardvermas"))+"\n      ")])]):v("div",{staticClass:"content-buttons"},[m.product.precio>0?v("div",{staticClass:"button-left",on:{click:m.addShoppingCart}},[v("svg",{staticClass:"svg-img",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[v("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"}})])]):m._e(),m._v(" "),v("nuxt-link",{staticClass:"button-right",style:"background: ".concat(m.settingByTemplate&&m.settingByTemplate.color_primario?m.settingByTemplate.color_primario:"#25D366",";"),attrs:{to:{path:"/wa/".concat(m.dataStore.id,"/productos/")+m.product.slug}}},[v("p",{staticClass:"txt-btn-right",style:"color:".concat(m.settingByTemplate.color_secundario,";")},[m._v("\n          "+m._s(13015==m.dataStore.id?m.$t("productdetail_btnComprar"):m.$t("home_cardvermas"))+"\n        ")])])],1)],1)])}),[],!1,null,"178c8de3",null);o.default=component.exports},446:function(t,o,e){"use strict";var r=e(30);o.a={methods:{idCloudinary:function(t,o,e){var n="dpr_auto,f_auto,fl_lossy,q_auto/c_crop,g_custom/h_".concat(e,",w_").concat(o,",b_auto,c_pad");return Object(r.a)(t,n)},idCloudinaryQuality:function(t,o,e){var n="dpr_auto,f_auto,fl_lossy,q_90/c_crop,g_custom/h_".concat(e,",w_").concat(o,",b_auto,c_pad");return Object(r.a)(t,n)},idCloudinarys:function(t,o,e){var n="dpr_auto,q_auto:best,c_crop,g_custom/c_scale,h_".concat(e,",w_").concat(o);return Object(r.a)(t,n)},idCloudinaryBanner:function(t,o,e){if(!t||"string"!=typeof t)return console.error("La URL proporcionada es invÃ¡lida:",t),null;var n="dpr_auto,q_auto:best,c_crop,g_custom";if("banner"===o)return Object(r.b)(t,n);if("bannerRes"===o){var c="".concat(n,"/c_scale,w_").concat(e);return Object(r.b)(t,c)}return Object(r.a)(t)}}}},447:function(t,o,e){"use strict";o.a={filters:{currency:function(t,o,e){var r;return o&&e?t&&"co"==o&&"COP"==e?"$".concat(new Intl.NumberFormat("de-DE").format(t)):t&&"pe"==o&&"PEN"==e?"S/ ".concat(new Intl.NumberFormat("es-PE").format(t)):"internacional"==o?(r=new Intl.NumberFormat("en-IN",{style:"currency",currency:e,minimumFractionDigits:0}).format(t),"".concat(r)):(r=new Intl.NumberFormat(o,{style:"currency",currency:e,minimumFractionDigits:0}).format(t),"".concat(r)):t?"$".concat(new Intl.NumberFormat("de-DE").format(t)):void 0}}}},453:function(t,o,e){var r=e(15);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},830:function(t,o,e){var content=e(1465);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(55).default)("3d83ad4a",content,!0,{sourceMap:!1})}}]);