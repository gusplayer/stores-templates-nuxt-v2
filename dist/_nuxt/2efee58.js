(window.webpackJsonp=window.webpackJsonp||[]).push([[21,15,303,349],{1461:function(t,o,r){"use strict";r(828)},1462:function(t,o,r){var e=r(53)((function(i){return i[1]}));e.push([t.i,'.card_info[data-v-742bc8f7]{align-items:center;display:flex;font-size:10px;font-weight:700;justify-content:center;position:absolute}.card_soldOut[data-v-742bc8f7]{background:#e71f77;bottom:30px;color:#fff}.card_freeShipping[data-v-742bc8f7],.card_soldOut[data-v-742bc8f7]{border-radius:4px;padding:1px 2px;right:10px}.card_freeShipping[data-v-742bc8f7]{background:#35dd8d;bottom:10px;color:#000}.overlay-top[data-v-742bc8f7]{background:#fff;border-radius:.375rem;color:#25d366;font-size:13px;height:29px;left:100%;overflow:hidden;padding:5px;position:absolute;right:0;top:50px;width:0;--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);box-shadow:0 0 transparent,0 0 transparent,0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow);transition-duration:.3s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,1,1)}#product-card:hover .overlay-top[data-v-742bc8f7]{left:72%;width:67px}.overlay-free[data-v-742bc8f7]{background-color:#25d366;border-radius:.25rem;color:#fff;height:35px;left:100%;overflow:hidden;position:absolute;right:0;text-align:center;top:5px;transition:.5s ease;width:0}.txt-free[data-v-742bc8f7]{font-size:13px;line-height:12px;margin-top:5px}#product-card:hover .overlay-free[data-v-742bc8f7]{left:50%;transition-delay:.7s;width:125px}.overlay-polygon[data-v-742bc8f7]{background-color:transparent;height:5%;left:100%;overflow:hidden;position:absolute;right:0;top:40px;width:0;fill:#25d366}#product-card:hover .overlay-polygon[data-v-742bc8f7]{left:90%;transition-delay:.95s;width:5%}.card-descuento[data-v-742bc8f7]{display:none}.content-productCard[data-v-742bc8f7]{align-items:center;display:flex;flex-direction:column;height:100%;justify-content:flex-start;width:100%}@media (min-width:300px){.content-items-productCard[data-v-742bc8f7]{max-width:350px}.content-img-prodcut[data-v-742bc8f7],.content-items-productCard[data-v-742bc8f7]{align-items:center;display:flex;flex-direction:column;justify-content:center;width:100%}.content-img-prodcut[data-v-742bc8f7]{background-color:#f9f9f9;border-radius:9px;border-width:1px;height:100%;max-height:175px;max-width:175px;overflow:hidden}.product-image[data-v-742bc8f7]{height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;width:100%}.product-image-soldOut[data-v-742bc8f7]{filter:grayscale(100%)}.content-description-product[data-v-742bc8f7]{align-items:center;display:grid;grid-template-columns:repeat(1,minmax(0,1fr));justify-content:center;margin-bottom:10px;margin-top:10px;width:100%;grid-gap:.25rem;gap:.25rem}.txt-name-product[data-v-742bc8f7]{color:#3d3d3d;display:-webkit-box;font-size:14px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;font-family:"Poppins",sans-serif!important;font-weight:500;text-align:left;width:100%}.content-price-product[data-v-742bc8f7]{flex-direction:column;justify-content:center;width:auto}.content-price-product[data-v-742bc8f7],.item-price-product[data-v-742bc8f7]{align-items:center;display:flex}.item-price-product[data-v-742bc8f7]{flex-direction:row;gap:.25rem;justify-content:flex-start;width:100%}.txt-product-price[data-v-742bc8f7]{align-items:flex-start;color:#3d3d3d;display:flex;flex-direction:column;font-family:"Poppins",sans-serif!important;font-size:14px;font-weight:700;justify-content:center;width:auto}.content-buttons[data-v-742bc8f7]{flex-direction:row;justify-content:space-between;width:100%}.button-left[data-v-742bc8f7],.content-buttons[data-v-742bc8f7]{align-items:center;display:flex}.button-left[data-v-742bc8f7]{background-color:#ececec;border-radius:5px;cursor:pointer;flex-direction:column;justify-content:center;margin-right:5px;max-height:34px;padding:8px;width:auto}.svg-img[data-v-742bc8f7]{color:#000;height:auto;width:21px}.button-right[data-v-742bc8f7]{border-radius:7px;cursor:pointer;max-height:34px;padding:8px 12px}.button-right[data-v-742bc8f7],.txt-btn-right[data-v-742bc8f7]{align-items:center;display:flex;flex-direction:column;justify-content:center;width:100%}.txt-btn-right[data-v-742bc8f7]{font-family:"Poppins",sans-serif!important;font-size:14px;font-weight:600}}@media (min-width:500px){.content-img-prodcut[data-v-742bc8f7]{max-height:267px;max-width:267px}}@media (min-width:600px){.item-price-product[data-v-742bc8f7]{align-items:center;display:flex;flex-direction:row;justify-content:flex-start}.txt-name-product[data-v-742bc8f7]{font-size:16px}.txt-product-price[data-v-742bc8f7]{font-size:16px;font-weight:700}.button-left[data-v-742bc8f7]{margin-right:10px;padding:5px}.svg-img[data-v-742bc8f7]{height:auto;width:32px}.button-right[data-v-742bc8f7]{padding-bottom:8px;padding-top:8px}.txt-btn-right[data-v-742bc8f7]{font-size:16px}}@media (max-width:768px){.card-descuento[data-v-742bc8f7]{background:#35dd8d;border-radius:3px;bottom:10px;color:#fff;display:inline;display:initial;font-size:12px;left:5px;margin-top:3px;padding:0 5px;position:absolute}}',""]),e.locals={},t.exports=e},1781:function(t,o,r){"use strict";r.r(o);r(452);var e=r(6),n=(r(55),r(43),r(190),r(56),r(75),r(445)),c=r(446),d=r(192),l={name:"ProductCardWa2",mixins:[n.a,c.a,d.a],props:{product:{type:Object,required:!0},dataStore:{type:Object,required:!0}},data:function(){return{estadoCart:!1,minPrice:"",maxPrice:"",idSlug:"",maxQuantityValue:0,productIndexCart:null,productCart:{},salesData:null,spent:!1,active:!0,equalsPrice:!1}},computed:{settingByTemplate:function(){return this.$store.state.settingByTemplate||this.$store.state.settingBaseWapir},productsCarts:function(){return this.$store.state.productsCart},getFreeShipping:function(){return!(1===this.product.envio_gratis||"gratis"===this.rangosByCiudad.envio_metodo)},rangosByCiudad:function(){return this.$store.state.envios.valores},soldOut:function(){var t;if(null!==(t=this.product)&&void 0!==t&&t.con_variante){var o,r=this.product.variantes;if(null!=r&&null!==(o=r.combinaciones)&&void 0!==o&&o.length)return 0===JSON.parse(r.combinaciones[0].combinaciones).map((function(t){return parseInt(t.unidades)||0})).reduce((function(t,o){return t+o}),0)}return!this.product.stock}},watch:{productsCarts:function(){this.getDataProduct()}},mounted:function(){this.idSlug=this.product.id,this.productPrice(),this.product.con_variante&&"[object Object]"!==this.product.variantes.variantes&&(this.estadoCart=!0)},methods:{getDataProduct:function(){var t=this;this.salesData={precio:this.product.precio,unidades:this.product.stock,sku:this.product.sku,estado:!0},this.maxQuantityValue=this.product.stock,this.productsCarts.find((function(o,r){o.id==t.product.id&&(t.productIndexCart=r,t.productCart=o,t.maxQuantityValue=t.product.stock-o.cantidad)})),(0==this.salesData.unidades||this.maxQuantityValue<=0||0==this.maxQuantityValue)&&(this.spent=!0)},addShoppingCart:function(){if(this.product&&(this.productIndexCart=null,this.getDataProduct(),this.sendAnalyticsStore(this.product.id),this.product.id==this.idSlug)){var t={id:this.product.id,precio:this.product.precio,cantidad:1,foto_cloudinary:this.product.foto_cloudinary,nombre:this.product.nombre,combinacion:void 0,envio_gratis:this.product.envio_gratis,con_variante:this.product.con_variante};if(this.salesData,t.limitQuantity=this.product.stock,"number"==typeof this.productIndexCart){var o=this.$store.state.productsCart[this.productIndexCart];o.cantidad+=1,this.$store.state.productsCart.splice(this.productIndexCart,1,o)}else this.$store.state.productsCart.push(t);this.$store.commit("UPDATE_CONTENT_CART"),this.$message({showClose:!0,message:"Se agregÃ³ el producto correctamente",type:"success"}),this.$store.dispatch("SEND_ADD_TO_CART",1)}},productPrice:function(){var t;if(null!==(t=this.product)&&void 0!==t&&t.con_variante){var o,r=this.product.variantes;if((null==r||null===(o=r.combinaciones)||void 0===o?void 0:o.length)>0){var e=[];try{e=JSON.parse(r.combinaciones[0].combinaciones)}catch(t){console.error("Error al parsear combinaciones:",t)}if(Array.isArray(e)){var n=e.filter((function(t){return t.precio&&t.estado})).map((function(t){return t.precio}));if((null==n?void 0:n.length)>0){this.productVariants=!0;var c=n.sort((function(a,b){return a-b}));return this.minPrice=c[0],this.maxPrice=c[c.length-1],void(this.equalsPrice=this.minPrice===this.maxPrice)}}}}this.productVariants=!1,this.minPrice=this.product.precio||0,this.maxPrice=this.product.precio||0,this.equalsPrice=!0},redirectWP:function(){var t,o="https://api.whatsapp.com/send?phone=",r="https://web.whatsapp.com/send?phone=57";t=this.dataStore.tiendasInfo.dominio?"".concat(this.dataStore.tiendasInfo.dominio,"wa/").concat(this.product.slug):"http://".concat(this.dataStore.subdominio,".komercia.store/wa/").concat(this.product.slug);var text="text=Hola ðŸ˜€, %0AEstoy en tu tienda y me interesa el producto: ".concat(this.product.nombre,"%0A%0ALink de compra: ").concat(t,"%0A");if(this.dataStore.redes.whatsapp.length>10){var e=this.dataStore.redes.whatsapp;"+"===e.charAt(0)&&(e=e.slice(1)),this.mobileCheck()?window.open("".concat(o).concat(e,"&").concat(text),"_blank"):window.open("".concat(r).concat(e,"&").concat(text),"_blank")}else this.mobileCheck()?window.open("".concat(o).concat(this.dataStore.redes.whatsapp,"&").concat(text),"_blank"):window.open("".concat(r).concat(this.dataStore.redes.whatsapp,"&").concat(text),"_blank")},sendAnalyticsStore:function(t){var o=this;return Object(e.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.$store.dispatch("SEND_ANALYTICS_STORE",{storeId:o.dataStore.id,event:"ADDED_PRODUCT_TO_CART",productId:t});case 2:case"end":return r.stop()}}),r)})))()}}},f=(r(1461),r(3)),component=Object(f.a)(l,(function(){var t,o,r,e,n,c,d,l,f,h=this,m=h._self._c;return m("div",{staticClass:"content-productCard"},[m("div",{staticClass:"content-items-productCard"},[m("nuxt-link",{staticClass:"content-img-prodcut relative",attrs:{id:"product-card",to:{path:"/wa/".concat(h.dataStore.id,"/productos/")+h.product.slug}}},[m("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"sin_foto.jpeg"==(null===(t=h.product)||void 0===t?void 0:t.foto_cloudinary)?"https://res.cloudinary.com/komerciaacademico/image/upload/v1637945917/komerica/sws8xa8z0oyu252nqxzv_cgwcdb.png":h.idCloudinary(h.product.foto_cloudinary,550,550),expression:"\n          product?.foto_cloudinary == 'sin_foto.jpeg'\n            ? 'https://res.cloudinary.com/komerciaacademico/image/upload/v1637945917/komerica/sws8xa8z0oyu252nqxzv_cgwcdb.png'\n            : idCloudinary(product.foto_cloudinary, 550, 550)\n        "}],staticClass:"product-image",class:h.soldOut?"grayscale":"",attrs:{width:"265",height:"265",loading:"lazy",alt:"Product Img"}}),h._v(" "),1==h.product.tag_promocion&&h.product.promocion_valor?m("div",[m("div",{staticClass:"overlay-top"},[m("div",[m("p",[h._v(h._s(h.product.promocion_valor)+"% OFF")])])]),h._v(" "),m("div",{staticClass:"overlay-free"},[m("p",{staticClass:"txt-free"},[h._v(h._s(h.$t("home_pdescuento")))])]),h._v(" "),m("div",{staticClass:"overlay-polygon"},[m("svg",{staticClass:"icon-overlay-free",attrs:{width:"12px",height:"12px",viewBox:"0 0 255 255"}},[m("polygon",{attrs:{points:"0,0 127.5,127.5 255,0"}})])])]):h._e(),h._v(" "),h.soldOut?m("p",{staticClass:"card_info card_soldOut"},[h._v("\n        "+h._s(h.$t("home_cardAgotado"))+"\n      ")]):h._e(),h._v(" "),h.getFreeShipping?h._e():m("p",{staticClass:"card_info card_freeShipping"},[h._v("\n        "+h._s(h.$t("home_cardGratis"))+"\n      ")]),h._v(" "),1==h.product.tag_promocion&&h.product.promocion_valor?m("div",{staticClass:"card-descuento"},[m("p",[h._v(h._s(h.product.promocion_valor)+"% OFF")])]):h._e()]),h._v(" "),m("nuxt-link",{staticClass:"content-description-product",attrs:{to:{path:"/wa/".concat(h.dataStore.id,"/productos/")+h.product.slug}}},[m("p",{staticClass:"txt-name-product pb-auto min-h-[48px]"},[h._v("\n        "+h._s(h.product.nombre)+"\n      ")]),h._v(" "),m("div",{staticClass:"content-price-product"},[h.estadoCart&&h.equalsPrice?m("div",{staticClass:"item-price-product"},[h.minPrice>0?m("p",{staticClass:"txt-product-price"},[h._v("\n            "+h._s(h._f("currency")(h.minPrice,h.dataStore.tiendasInfo.paises.codigo,h.dataStore.tiendasInfo.moneda))+"\n          ")]):h._e()]):h.estadoCart&&!h.equalsPrice?m("div",{staticClass:"item-price-product"},[m("p",{staticClass:"txt-product-price"},[h._v("\n            "+h._s(h._f("currency")(h.minPrice,h.dataStore.tiendasInfo.paises.codigo,h.dataStore.tiendasInfo.moneda))+"\n          ")]),h._v(" "),18265===(null===(o=h.dataStore)||void 0===o?void 0:o.id)&&1==(null===(r=h.product)||void 0===r?void 0:r.tag_promocion)&&null!==(e=h.product)&&void 0!==e&&e.promocion_valor?m("p",{staticClass:"ml-5 text-sm text-red-500 line-through"},[h._v("\n            "+h._s(h._f("currency")(Math.trunc(h.minPrice/(1-h.product.promocion_valor/100)),h.dataStore.tiendasInfo.paises.codigo,h.dataStore.tiendasInfo.moneda))+"\n          ")]):h._e(),h._v(" "),h.maxPrice>0&&18265!==(null===(n=h.dataStore)||void 0===n?void 0:n.id)?m("p",{staticClass:"separator-price"},[h._v("\n            -\n          ")]):h._e(),h._v(" "),h.maxPrice>0&&18265!==(null===(c=h.dataStore)||void 0===c?void 0:c.id)?m("p",{staticClass:"txt-product-price"},[h._v("\n            "+h._s(h._f("currency")(h.maxPrice,h.dataStore.tiendasInfo.paises.codigo,h.dataStore.tiendasInfo.moneda))+"\n          ")]):h._e()]):m("div",{staticClass:"item-price-product min-h-[28px]"},[h.product.precio>0?m("p",{staticClass:"txt-product-price"},[h._v("\n            "+h._s(h._f("currency")(h.product.precio,h.dataStore.tiendasInfo.paises.codigo,h.dataStore.tiendasInfo.moneda))+"\n          ")]):h._e(),h._v(" "),18265===(null===(d=h.dataStore)||void 0===d?void 0:d.id)&&1==(null===(l=h.product)||void 0===l?void 0:l.tag_promocion)&&null!==(f=h.product)&&void 0!==f&&f.promocion_valor?m("p",{staticClass:"ml-5 text-sm text-red-500 line-through"},[h._v("\n            "+h._s(h._f("currency")(Math.trunc(h.minPrice/(1-h.product.promocion_valor/100)),h.dataStore.tiendasInfo.paises.codigo,h.dataStore.tiendasInfo.moneda))+"\n          ")]):h._e()])])]),h._v(" "),h.estadoCart||h.soldOut||h.spent?m("nuxt-link",{staticClass:"button-right",style:"background: ".concat(h.settingByTemplate&&h.settingByTemplate.color_primario?h.settingByTemplate.color_primario:"#25D366",";"),attrs:{to:{path:"/wa/".concat(h.dataStore.id,"/productos/")+h.product.slug}}},[m("p",{staticClass:"txt-btn-right",style:"color:".concat(h.settingByTemplate.color_secundario,";")},[h._v("\n        "+h._s(13015==h.dataStore.id?h.$t("productdetail_btnComprar"):h.$t("home_cardvermas"))+"\n      ")])]):m("div",{staticClass:"content-buttons"},[h.product.precio>0?m("div",{staticClass:"button-left",on:{click:h.addShoppingCart}},[m("svg",{staticClass:"svg-img",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[m("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"}})])]):h._e(),h._v(" "),m("nuxt-link",{staticClass:"button-right",style:"background: ".concat(h.settingByTemplate&&h.settingByTemplate.color_primario?h.settingByTemplate.color_primario:"#25D366",";"),attrs:{to:{path:"/wa/".concat(h.dataStore.id,"/productos/")+h.product.slug}}},[m("p",{staticClass:"txt-btn-right",style:"color:".concat(h.settingByTemplate.color_secundario,";")},[h._v("\n          "+h._s(13015==h.dataStore.id?h.$t("productdetail_btnComprar"):h.$t("home_cardvermas"))+"\n        ")])])],1)],1)])}),[],!1,null,"742bc8f7",null);o.default=component.exports},445:function(t,o,r){"use strict";r(85);o.a={methods:{idCloudinary:function(t,o,r){var e=t.split("/upload/"),n=t.split("/");return"res.cloudinary.com"==n[2]?"https://res.cloudinary.com/".concat(n[3],"/image/upload/dpr_auto,f_auto,fl_lossy,q_auto/c_crop,g_custom/h_").concat(r,",w_").concat(o,",b_auto,c_pad/").concat(e[1]):t},idCloudinaryQuality:function(t,o,r){var e=t.split("/upload/"),n=t.split("/");return"res.cloudinary.com"==n[2]?"https://res.cloudinary.com/".concat(n[3],"/image/upload/dpr_auto,f_auto,fl_lossy,q_90/c_crop,g_custom/h_").concat(r,",w_").concat(o,",b_auto,c_pad/").concat(e[1]):t},idCloudinarys:function(t,o,r){var e=t.split("/upload/"),n=t.split("/");return"res.cloudinary.com"==n[2]?"https://res.cloudinary.com/".concat(n[3],"/image/upload/dpr_auto,q_auto:best,c_crop,g_custom/c_scale,h_").concat(r,",w_").concat(o,"/").concat(e[1]):t},idCloudinaryBanner:function(t,o,r){if(!t||"string"!=typeof t)return console.error("La URL proporcionada es invÃ¡lida:",t),null;var e,n=t.split("/upload/"),c=t.split("/");return n&&n.length>1&&(e=n[1].split(".")),"res.cloudinary.com"!=c[2]?t:"banner"==o?"https://res.cloudinary.com/".concat(c[3],"/image/upload/dpr_auto,q_auto:best,c_crop,g_custom/").concat(e[0],".webp"):"bannerRes"==o?"https://res.cloudinary.com/".concat(c[3],"/image/upload/dpr_auto,q_auto:best,c_crop,g_custom/c_scale,w_").concat(r,"/").concat(e[0],".webp"):void 0}}}},446:function(t,o,r){"use strict";o.a={filters:{currency:function(t,o,r){var e;return o&&r?t&&"co"==o&&"COP"==r?"$".concat(new Intl.NumberFormat("de-DE").format(t)):t&&"pe"==o&&"PEN"==r?"S/ ".concat(new Intl.NumberFormat("es-PE").format(t)):"internacional"==o?(e=new Intl.NumberFormat("en-IN",{style:"currency",currency:r,minimumFractionDigits:0}).format(t),"".concat(e)):(e=new Intl.NumberFormat(o,{style:"currency",currency:r,minimumFractionDigits:0}).format(t),"".concat(e)):t?"$".concat(new Intl.NumberFormat("de-DE").format(t)):void 0}}}},452:function(t,o,r){var e=r(15);e(e.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},828:function(t,o,r){var content=r(1462);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(54).default)("20abc533",content,!0,{sourceMap:!1})}}]);