(window.webpackJsonp=window.webpackJsonp||[]).push([[339],{1506:function(t,r,e){"use strict";e.r(r);e(42),e(36),e(73),e(74);var o=e(6),n=e(21),c=(e(55),e(43),e(190),e(56),e(86)),d=e(445),l=e(446);function h(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,o)}return e}function v(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?h(Object(e),!0).forEach((function(r){Object(n.a)(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):h(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}var f={name:"Ko15ProductCard",mixins:[d.a,l.a],props:{product:{type:Object,required:!0},settingCardProducts:{type:Object,required:!0},settingGeneral:{type:Object,required:!0}},data:function(){return{hover:!1,estadoCart:!1,minPrice:"",maxPrice:"",idSlug:"",maxQuantityValue:0,productIndexCart:null,productCart:{},salesData:null,spent:!1,active:!0,equalsPrice:!1}},computed:v(v({},Object(c.c)(["dataStore","productsCart"])),{},{getFreeShipping:function(){return!(1===this.product.envio_gratis||"gratis"===this.rangosByCiudad.envio_metodo)},rangosByCiudad:function(){return this.$store.state.envios.valores},soldOut:function(){if(this.product.con_variante){var t=this.product.variantes;if(t&&t.combinaciones.length)return 0===JSON.parse(t.combinaciones[0].combinaciones).map((function(t){return parseInt(t.unidades)||0})).reduce((function(t,r){return t+r}),0)}return!this.product.stock}}),watch:{productsCart:function(){this.getDataProduct()}},mounted:function(){this.idSlug=this.product.id,this.productPrice(),this.product.con_variante&&"[object Object]"!==this.product.variantes.variantes&&(this.estadoCart=!0),this.product&&this.getDataProduct()},methods:{getDataProduct:function(){var t=this;this.product&&(this.salesData={precio:this.product.precio,unidades:this.product.stock,sku:this.product.sku,estado:!0},this.maxQuantityValue=this.product.stock,this.productsCart.find((function(r,e){r.id==t.product.id&&(t.productIndexCart=e,t.productCart=r,t.maxQuantityValue=t.product.stock-r.cantidad)})),(0==this.salesData.unidades||this.maxQuantityValue<=0||0==this.maxQuantityValue)&&(this.spent=!0))},addShoppingCart:function(){if(this.product&&(this.productIndexCart=null,this.getDataProduct(),this.sendAnalyticsStore(this.product.id),this.product.id==this.idSlug)){var t={id:this.product.id,precio:this.product.precio,cantidad:1,foto_cloudinary:this.product.foto_cloudinary,nombre:this.product.nombre,combinacion:void 0,envio_gratis:this.product.envio_gratis,con_variante:this.product.con_variante};if(this.salesData,t.limitQuantity=this.product.stock,"number"==typeof this.productIndexCart){var r=this.$store.state.productsCart[this.productIndexCart];r.cantidad+=1,this.$store.state.productsCart.splice(this.productIndexCart,1,r)}else this.$store.state.productsCart.push(t);this.$store.commit("UPDATE_CONTENT_CART"),this.$store.commit("SET_OPEN_ORDER",!0),this.$store.dispatch("SEND_ADD_TO_CART",1)}},productPrice:function(){if(this.product.con_variante){var t=this.product.variantes;if(t&&t.combinaciones.length>0){var r=JSON.parse(t.combinaciones[0].combinaciones).filter((function(t){return t.precio&&t.estado})).map((function(t){return t.precio}));if(r.length>0){this.productVariants=!0;var e=r.sort((function(a,b){return a-b}));return this.minPrice=e[0],this.maxPrice=e[e.length-1],void(this.equalsPrice=this.minPrice===this.maxPrice)}}}this.productVariants=!1,this.minPrice=this.product.precio||0,this.maxPrice=this.product.precio||0,this.equalsPrice=!0},sendAnalyticsStore:function(t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.$store.dispatch("SEND_ANALYTICS_STORE",{storeId:r.dataStore.id,event:"ADDED_PRODUCT_TO_CART",productId:t});case 2:case"end":return e.stop()}}),e)})))()}}},m=(e(565),e(3)),component=Object(m.a)(f,(function(){var t,r,e,o=this,n=o._self._c;return n("div",{staticClass:"h-full w-full flex flex-col justify-start items-center cursor-pointer relative wrapper_container",style:[o.settingGeneral,o.settingCardProducts,{"--hover_text_btn":null===(t=o.settingGeneral)||void 0===t?void 0:t.hover_text_btn,"--hover_bg_btn":null===(r=o.settingGeneral)||void 0===r?void 0:r.hover_bg_btn,"--hover_text":null===(e=o.settingGeneral)||void 0===e?void 0:e.hover_text}],attrs:{id:"product-card"}},[n("div",{staticClass:"relative max-w-full h-full shadow-sm border rounded-5 container"},[n("nuxt-link",{staticClass:"w-full h-full",attrs:{to:{path:"/productos/"+o.product.slug}}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"sin_foto.jpeg"==o.product.foto_cloudinary?"https://res.cloudinary.com/komerciaacademico/image/upload/v1637945917/komerica/sws8xa8z0oyu252nqxzv_cgwcdb.png":o.idCloudinary(o.product.foto_cloudinary,550,550),expression:"\n          product.foto_cloudinary == 'sin_foto.jpeg'\n            ? 'https://res.cloudinary.com/komerciaacademico/image/upload/v1637945917/komerica/sws8xa8z0oyu252nqxzv_cgwcdb.png'\n            : idCloudinary(product.foto_cloudinary, 550, 550)\n        "}],staticClass:"w-full h-full object-cover overflow-hidden rounded-t-5 max-w-[408px] max-h-[408px]",class:o.soldOut?"grayscale":"",attrs:{width:"294",height:"294",loading:"lazy",alt:"Lazy-loaded Product Img"}})]),o._v(" "),o.soldOut?n("p",{staticClass:"absolute bottom-54 right-10 text-12 px-2 py-1 rounded-4 bg-red-500 text-white-white"},[o._v("\n      "+o._s(o.$t("home_cardAgotado"))+"\n    ")]):o._e(),o._v(" "),o.getFreeShipping?o._e():n("p",{staticClass:"absolute bottom-30 right-10 text-12 px-2 py-1 rounded-4 bg-green-500 text-white-white"},[o._v("\n      "+o._s(o.$t("home_cardGratis"))+"\n    ")]),o._v(" "),1==o.product.tag_promocion&&o.product.promocion_valor?n("div",{staticClass:"absolute top-10 left-10 py-1 px-5 text-white-white uppercase text-12 bg-red-500 right-auto rounded-4"},[n("p",{staticClass:"block"},[o._v(o._s(o.product.promocion_valor)+"% OFF")])]):o._e()],1),o._v(" "),n("div",{staticClass:"w-full h-full flex flex-col justify-between items-center my-6 mx-10 cursor-default box-border"},[n("nuxt-link",{attrs:{to:{path:"/productos/"+o.product.slug}}},[n("div",{staticClass:"w-full flex justify-center items-center"},[n("p",{staticClass:"h-full pt-10 transition-all ease-out duration-0.2 text-center min-h-[58px] max-h-[58px] card-title"},[o._v("\n          "+o._s(o.product.nombre)+"\n        ")])])]),o._v(" "),n("div",{staticClass:"mt-10"},[o.estadoCart&&o.equalsPrice?n("div",[o.minPrice>0?n("p",{staticClass:"text-price"},[o._v("\n          "+o._s(o._f("currency")(o.minPrice,o.dataStore.tiendasInfo.paises.codigo,o.dataStore.tiendasInfo.moneda))+"\n        ")]):o._e()]):o.estadoCart&&!o.equalsPrice?n("div",{staticClass:"content-price"},[o.minPrice>0?n("div",{staticClass:"text-price"},[o._v("\n          "+o._s(o._f("currency")(o.minPrice,o.dataStore.tiendasInfo.paises.codigo,o.dataStore.tiendasInfo.moneda))+"\n        ")]):o._e(),o._v(" "),o.maxPrice>0?n("p",{staticClass:"separator-price"},[o._v("-")]):o._e(),o._v(" "),o.maxPrice>0?n("div",{staticClass:"text-price"},[o._v("\n          "+o._s(o._f("currency")(o.maxPrice,o.dataStore.tiendasInfo.paises.codigo,o.dataStore.tiendasInfo.moneda))+"\n        ")]):o._e()]):n("div",[o.product.precio>0||o.product.precio?n("p",{staticClass:"text-price"},[o._v("\n          "+o._s(o._f("currency")(o.product.precio,o.dataStore.tiendasInfo.paises.codigo,o.dataStore.tiendasInfo.moneda))+"\n        ")]):o._e()])])],1),o._v(" "),n("div",{staticClass:"absolute right-20 top-15 opacity-0 flex flex-col justify-center items-center transition-all ease-in duration-0.3 z-10 wrapper_btn"},[n("nuxt-link",{staticClass:"px-12 py-8 shadow-lg rounded-full btn",style:"background-color:".concat(o.settingCardProducts.color_btn,";color:").concat(o.settingCardProducts.color_icon,";"),attrs:{to:{path:"/productos/"+o.product.slug}}},[n("eye-outline-icon")],1),o._v(" "),!(o.product.precio>0)||o.estadoCart||o.soldOut||o.spent||null!==o.product.tipo_servicio&&"0"!==o.product.tipo_servicio?o._e():n("button",{staticClass:"mt-10 px-12 py-8 shadow-lg rounded-full btn",style:"background-color:".concat(o.settingCardProducts.color_btn,"; color:").concat(o.settingCardProducts.color_icon,";"),on:{click:o.addShoppingCart}},[n("cart-icon")],1)],1)])}),[],!1,null,"1228a003",null);r.default=component.exports},446:function(t,r,e){"use strict";r.a={filters:{currency:function(t,r,e){var o;return r&&e?t&&"co"==r&&"COP"==e?"$".concat(new Intl.NumberFormat("de-DE").format(t)):t&&"pe"==r&&"PEN"==e?"S/ ".concat(new Intl.NumberFormat("es-PE").format(t)):"internacional"==r?(o=new Intl.NumberFormat("en-IN",{style:"currency",currency:e,minimumFractionDigits:0}).format(t),"".concat(o)):(o=new Intl.NumberFormat(r,{style:"currency",currency:e,minimumFractionDigits:0}).format(t),"".concat(o)):t?"$".concat(new Intl.NumberFormat("de-DE").format(t)):void 0}}}},496:function(t,r,e){var content=e(566);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(54).default)("55ffabfa",content,!0,{sourceMap:!1})},565:function(t,r,e){"use strict";e(496)},566:function(t,r,e){var o=e(53)((function(i){return i[1]}));o.push([t.i,".wrapper_container[data-v-1228a003]{background-color:var(--background_color_1)}.card-title[data-v-1228a003]{color:var(--color_title);display:-webkit-box;font-size:16px;font-weight:var(--fontWeighTitle);overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2}.card-title[data-v-1228a003]:hover{color:var(--hover_text);transition-duration:.15s;transition-duration:.2s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(0,0,.2,1)}.separator-price[data-v-1228a003]{color:var(--color_price)!important;font-size:20px}@media screen and (min-width:768px){.text-price[data-v-1228a003]{font-size:20px}}.text-price[data-v-1228a003]{color:var(--color_price)!important;font-size:18px;font-weight:var(--fontWeighPrice);text-align:left;white-space:nowrap}.text-free[data-v-1228a003],.text-sould[data-v-1228a003]{transform:translate(-50%,-50%)}.btn[data-v-1228a003]:hover{background-color:var(--hover_bg_btn)!important;color:var(--hover_text_btn)!important;transition-duration:.15s;transition-duration:.2s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,1,1)}.icon-shop[data-v-1228a003]{fill:var(--color_text_btn);margin-bottom:5px;margin-right:5px}#product-card:hover .wrapper_blur[data-v-1228a003],#product-card:hover .wrapper_btn[data-v-1228a003]{opacity:1;transition-duration:.15s;transition-duration:.3s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,1,1)}@media (min-width:300px){.overlay-top[data-v-1228a003]{border-radius:.375rem;overflow:hidden;position:absolute;--tw-bg-opacity:1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity,1));--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);box-shadow:0 0 transparent,0 0 transparent,0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow);height:40px;top:10%;transition-duration:.3s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,1,1);width:45px}.overlay-free[data-v-1228a003],.overlay-top[data-v-1228a003]{right:0}.overlay-free[data-v-1228a003]{background-color:#222;border-radius:.25rem;height:10%;overflow:hidden;position:absolute;top:0;transition:.5s ease;width:110px}.text-free[data-v-1228a003]{font-size:75%}.overlay-polygon[data-v-1228a003]{background-color:transparent;height:5%;right:15px;top:10%;width:5%}.overlay-polygon[data-v-1228a003],.overlay-sould[data-v-1228a003]{overflow:hidden;position:absolute}.overlay-sould[data-v-1228a003]{align-items:center;border-bottom-left-radius:.5rem;border-top-left-radius:.5rem;display:flex;height:20%;justify-content:center;left:60%;right:0;top:0;transition:.5s ease;width:35%}.svg-sould-out[data-v-1228a003]{height:40px;width:40px}.content-price[data-v-1228a003]{align-items:center;display:flex;flex-direction:row;justify-content:center;width:100%}.separator-price[data-v-1228a003]{margin-left:1px;margin-right:1px}}@media (min-width:768px){.text-free[data-v-1228a003]{font-size:100%}.svg-sould-out[data-v-1228a003]{height:60px;width:60px}.separator-price[data-v-1228a003]{margin-left:4px;margin-right:4px}}@media (min-width:1280px){.overlay-top[data-v-1228a003]{height:40px;left:100%;right:0;top:35px;width:0}.container:hover .overlay-top[data-v-1228a003]{left:85%;width:40px}.overlay-free[data-v-1228a003]{height:35px;left:100%;right:0;top:0;transition:.5s ease;width:0}.container:hover .overlay-free[data-v-1228a003]{left:68%;transition-delay:.7s;width:32%}.overlay-polygon[data-v-1228a003]{height:5%;left:100%;right:0;top:35px;width:0}.container:hover .overlay-polygon[data-v-1228a003]{left:90%;transition-delay:.95s;width:5%}.overlay-sould[data-v-1228a003]{height:20%;left:100%;right:0;top:5%;transition:.5s ease;width:0}.container:hover .overlay-sould[data-v-1228a003]{left:65%;transition-delay:.7s;width:35%}.svg-sould-out[data-v-1228a003]{height:60px;width:60px}}@media (min-width:1920px){.overlay-top[data-v-1228a003]{height:40px;left:100%;right:0;top:35px;width:0}.container:hover .overlay-top[data-v-1228a003]{left:86%;width:40px}}@media (min-width:2560px){.overlay-top[data-v-1228a003]{height:40px;left:100%;right:0;top:35px;width:0}.container:hover .overlay-top[data-v-1228a003]{left:88%;width:40px}.overlay-sould[data-v-1228a003]{height:20%;left:100%;right:0;top:5%;transition:.5s ease;width:0}.container:hover .overlay-sould[data-v-1228a003]{left:75%;transition-delay:.7s;width:30%}}@media (min-width:3000px){.overlay-top[data-v-1228a003]{height:40px;left:100%;right:0;top:35px;width:0}.container:hover .overlay-top[data-v-1228a003]{left:89%;width:40px}}",""]),o.locals={},t.exports=o}}]);